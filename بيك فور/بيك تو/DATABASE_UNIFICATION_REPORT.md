# ุชูุฑูุฑ ุชูุญูุฏ ููุงุนุฏ ุงูุจูุงูุงุช

## ๐ ุงููุถุน ูุจู ุงูุชูุญูุฏ

### ุงููุดููุฉ ุงูุฃุณุงุณูุฉ:

ูุงู ุงููุดุฑูุน ูุณุชุฎุฏู **ูุงุนุฏุชู ุจูุงูุงุช ูููุตูุชูู**:

| ุงููุงุนุฏุฉ   | ุงููุณุงุฑ                 | ุงูุงุณุชุฎุฏุงู                     |
| --------- | ---------------------- | ----------------------------- |
| ุงูุฑุฆูุณูุฉ  | `./database.sqlite`    | ุงููุณุฎุฉ ุงูุญุงููุฉ (miladak_v2)   |
| ุงูุชุงุฑูุฎูุฉ | `./data/historical.db` | ุงููุณุฎุฉ ุงููุฏููุฉ (miladak_base) |

### ุงููุดุงูู ุงููุชุฑุชุจุฉ:

- โ **ุชุถุงุฑุจ ูู ุงูุจูุงูุงุช** - ุจุนุถ ุงููููุงุช ุชุดูุฑ ููุงุนุฏุฉ ูุงูุฃุฎุฑู ููุงุนุฏุฉ ูุฎุชููุฉ
- โ **ุตุนูุจุฉ ูู ุงูุตูุงูุฉ** - ุฅุฏุงุฑุฉ ูุงุนุฏุชูู ูููุตูุชูู
- โ **ุฃุฎุทุงุก ูู APIs** - ูุดู ูู ุฌูุจ ุงูุจูุงูุงุช ูู ุงููุงุนุฏุฉ ุงูุฎุงุทุฆุฉ
- โ **ุชุนููุฏ ูู ุงูุชุทููุฑ** - ุงูุญุงุฌุฉ ูุชุฐูุฑ ุฃู ูุงุนุฏุฉ ุชุณุชุฎุฏู ูุฃู ุบุฑุถ

## ๐ง ุงูุญููู ุงููุทุจูุฉ

### 1. **ุชูุญูุฏ ูุฑุงุฌุน ููุงุนุฏ ุงูุจูุงูุงุช**

#### ุงููููุงุช ุงูููุญุฏุซุฉ:

- โ `lib/db/articlesDB.ts` - ุชู ุชุญุฏูุซ ุงููุณุงุฑ ูููุงุนุฏุฉ ุงูููุญุฏุฉ
- โ `lib/db/migrate-add-seo-fields.ts` - ุชู ุชุญุฏูุซ ุงููุณุงุฑ ูููุงุนุฏุฉ ุงูููุญุฏุฉ

#### ุงูุชุบููุฑ ุงููุทุจู:

```typescript
// ูุจู ุงูุชูุญูุฏ
const dbPath = path.join(process.cwd(), 'data', 'historical.db');

// ุจุนุฏ ุงูุชูุญูุฏ
const dbPath =
  process.env.DATABASE_URL || path.join(process.cwd(), 'database.sqlite');
```

### 2. **ุฅูุดุงุก ูุธุงู ูุงุนุฏุฉ ุจูุงูุงุช ููุญุฏ**

#### ููู ุฌุฏูุฏ: `lib/db/unified-database.ts`

- ๐ **ุฏูุงู ููุญุฏุฉ** ูุฅุฏุงุฑุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช
- ๐ **ุฅุนุฏุงุฏุงุช ูุญุณูุฉ** ููุฃุฏุงุก
- ๐ **ูุงุฌูุฉ ุจุฑูุฌูุฉ ููุญุฏุฉ** ูุฌููุน ุงูุนูููุงุช

```typescript
export const UNIFIED_DB_PATH =
  process.env.DATABASE_URL || path.join(process.cwd(), 'database.sqlite');
export function getUnifiedDatabase(): Database.Database;
export function queryOne<T>(sql: string, params: any[]): T | undefined;
export function queryAll<T>(sql: string, params: any[]): T[];
export function execute(sql: string, params: any[]): Database.RunResult;
```

### 3. **ูุณุฎ ุงูุจูุงูุงุช ุงูุชุงุฑูุฎูุฉ**

#### ุณูุฑูุจุช ุงููุณุฎ: `scripts/copy-historical-data.js`

- ๐ **ูุณุฎ ูุงูู** ููุจูุงูุงุช ูู ุงููุงุนุฏุฉ ุงูุชุงุฑูุฎูุฉ
- ๐ฆ **ุฅูุดุงุก ูุณุฎุฉ ุงุญุชูุงุทูุฉ** ุชููุงุฆูุงู
- โ **ุงูุชุญูู ูู ุณูุงูุฉ** ุงูุนูููุฉ

#### ุงููุชุงุฆุฌ:

```
โ ุชู ูุณุฎ ุงูุจูุงูุงุช ุจูุฌุงุญ!
๐ ุงููุงุนุฏุฉ ุงูููุญุฏุฉ: database.sqlite
๐ฆ ุงููุณุฎุฉ ุงูุงุญุชูุงุทูุฉ: database-backup.sqlite
```

## ๐ ุงููุชุงุฆุฌ ูุงูููุงุฆุฏ

### โ **ุงููุดุงูู ุงููุญูููุฉ:**

1. **ุชูุญูุฏ ูุตุฏุฑ ุงูุจูุงูุงุช**

   - ุฌููุน ุงููููุงุช ุชุณุชุฎุฏู ูุงุนุฏุฉ ูุงุญุฏุฉ
   - ูุง ูุฒูุฏ ูู ุงูุชุถุงุฑุจ ูู ุงููุณุงุฑุงุช

2. **ุชุญุณูู ุงูุฃุฏุงุก**

   - ุฅุนุฏุงุฏุงุช ูุญุณูุฉ (WAL mode, cache, foreign keys)
   - ุงุชุตุงู ูุงุญุฏ ููุญุณู ุจุฏูุงู ูู ุงุชุตุงูุงุช ูุชุนุฏุฏุฉ

3. **ุณูููุฉ ุงูุตูุงูุฉ**

   - ููุงู ูุงุญุฏ ูุฅุฏุงุฑุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช
   - ูุงุฌูุฉ ุจุฑูุฌูุฉ ููุญุฏุฉ

4. **ุฅุตูุงุญ ูุดููุฉ ุงูุฃููุงู ุงููุญุธูุธุฉ**
   - ุงูุขู ุฌููุน ุงูุจูุงูุงุช ูุชุงุญุฉ ูู ูุงุนุฏุฉ ูุงุญุฏุฉ
   - APIs ุชุนูู ุจุดูู ุตุญูุญ

### ๐ **ุงูุฅุญุตุงุฆูุงุช:**

| ุงููููุงุณ            | ูุจู ุงูุชูุญูุฏ | ุจุนุฏ ุงูุชูุญูุฏ |
| ------------------ | ----------- | ----------- |
| ุนุฏุฏ ููุงุนุฏ ุงูุจูุงูุงุช | 2           | 1           |
| ุงููููุงุช ุงูููุญุฏุซุฉ   | -           | 3           |
| ุงูุณูุฑูุจุชุงุช ุงูุฌุฏูุฏุฉ | -           | 2           |
| ุญุงูุฉ APIs          | โ ุฃุฎุทุงุก    | โ ุชุนูู     |

## ๐ **ุงูุฎุทูุงุช ุงูุชุงููุฉ**

### ุงููููุชูู:

- โ ุชูุญูุฏ ูุฑุงุฌุน ููุงุนุฏ ุงูุจูุงูุงุช
- โ ูุณุฎ ุงูุจูุงูุงุช ุงูุชุงุฑูุฎูุฉ
- โ ุฅูุดุงุก ูุธุงู ููุญุฏ
- โ ุฅุตูุงุญ ูุดููุฉ ุงูุฃููุงู ุงููุญุธูุธุฉ

### ุงุฎุชูุงุฑู (ูููุณุชูุจู):

- ๐ **ุชูุธูู ุงููููุงุช ุงููุฏููุฉ** - ุญุฐู ุงููุงุนุฏุฉ ุงูุชุงุฑูุฎูุฉ ุจุนุฏ ุงูุชุฃูุฏ
- ๐ **ุชุญุฏูุซ ุงูุชูุซูู** - ุชูุซูู ุงููุธุงู ุงูุฌุฏูุฏ
- ๐งช **ุงุฎุชุจุงุฑุงุช ุดุงููุฉ** - ุงูุชุฃูุฏ ูู ุนูู ุฌููุน APIs

## ๐ฏ **ุงูุฎูุงุตุฉ**

ุชู **ุชูุญูุฏ ููุงุนุฏ ุงูุจูุงูุงุช ุจูุฌุงุญ** ูุญู ุฌููุน ุงููุดุงูู ุงููุชุนููุฉ ุจุชุถุงุฑุจ ุงูุจูุงูุงุช. ุงูุขู:

- ๐จ **ุตูุญุฉ ุงูุฃููุงู ูุงูุฃุฑูุงู** ุชุนูู ุจุดูู ูุซุงูู
- ๐ **ุฌููุน ุงูุจูุงูุงุช** ูุชุงุญุฉ ูู ููุงู ูุงุญุฏ
- ๐ง **ุงููุธุงู ุฃูุซุฑ ุงุณุชูุฑุงุฑุงู** ูุณูููุฉ ูู ุงูุตูุงูุฉ
- โก **ุงูุฃุฏุงุก ูุญุณู** ูุน ุฅุนุฏุงุฏุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงููุญุณูุฉ

---

**ุชุงุฑูุฎ ุงูุชูุญูุฏ:** ุฏูุณูุจุฑ 2024  
**ุงูุญุงูุฉ:** โ ููุชูู ููุนูู ุจูุฌุงุญ
