# مهام استعادة نظام الكلمات المفتاحية

- [ ] 1. البحث عن النسخة الاحتياطية وتحليل البيانات

  - فحص جميع ملفات قاعدة البيانات في المشروع للعثور على أكبر جدول page_keywords
  - البحث في المجلدات العربية (بيك فايف، بيك سيكس، إلخ) عن ملفات قاعدة البيانات
  - فحص أحجام الملفات وعد السجلات في كل جدول page_keywords
  - مقارنة البيانات الحالية (5 سجلات) مع النسخ الاحتياطية المختلفة
  - التحقق من سلامة البيانات والترميز العربي في النسخة المختارة
  - _Requirements: 1.1, 1.2, 1.4_

- [ ] 2. إنشاء سكريبت الاستعادة الآمن

  - إنشاء `scripts/backup-current-db.js` لحفظ نسخة احتياطية من قاعدة البيانات الحالية
  - إنشاء `scripts/restore-page-keywords.js` لاستعادة البيانات المفقودة فقط
  - تنفيذ منطق مقارنة البيانات الحالية مع النسخة الاحتياطية
  - إضافة آلية إدراج السجلات المفقودة فقط دون تعديل الموجود
  - إنشاء تقرير مفصل بالعمليات المنفذة والسجلات المضافة
  - _Requirements: 1.1, 1.4, 1.5_

- [ ] 3. تشغيل عملية الاستعادة واختبار النتائج

  - تشغيل سكريبت النسخ الاحتياطي للحماية
  - تشغيل سكريبت الاستعادة على نسخة تجريبية أولاً
  - التحقق من عدد السجلات المستعادة (يجب أن يكون 100+)
  - فحص سلامة البيانات العربية والترميز
  - التأكد من عدم تضارب المعرفات أو فقدان البيانات الحالية
  - إنشاء `scripts/verify-keywords-data.js` للتحقق من صحة البيانات
  - _Requirements: 1.1, 1.3, 1.4_

- [ ] 4. تحديث KeywordsSection للقراءة من قاعدة البيانات

  - تعديل `components/tools/KeywordsSection.tsx` لإضافة استدعاء API
  - إنشاء أو إصلاح `/api/page-keywords/[type]/[slug]/route.ts`
  - تنفيذ منطق الـ fallback للملفات المحلية عند عدم وجود بيانات في قاعدة البيانات
  - إضافة معالجة الأخطاء ومؤشرات التحميل
  - اختبار المكون مع بيانات حقيقية من قاعدة البيانات المستعادة
  - _Requirements: 3.1, 3.2, 3.4, 3.5_

- [ ] 5. إصلاح وتحسين لوحة التحكم

  - فحص وإصلاح `app/admin/page-keywords/page.tsx`
  - فحص وإصلاح `app/api/admin/page-keywords/route.ts`
  - فحص وإصلاح `app/api/admin/page-keywords/[id]/route.ts`
  - إضافة فلترة حسب نوع الصفحة (tool, article, page)
  - إضافة بحث في العناوين والكلمات المفتاحية
  - تحسين واجهة المستخدم لعرض البيانات المستعادة
  - اختبار وظائف الإضافة والتعديل والحذف
  - _Requirements: 2.1, 2.2, 2.3, 2.4, 2.5, 2.6_

- [ ] 6. اختبار شامل للنظام المستعاد

  - اختبار عرض الكلمات في صفحة date-converter وأدوات أخرى
  - التحقق من عمل الـ fallback عند عدم وجود بيانات في قاعدة البيانات
  - قياس سرعة التحميل والتأكد من أنها أقل من 2 ثانية
  - اختبار لوحة التحكم بالكامل (عرض، بحث، فلترة، إضافة، تعديل، حذف)
  - اختبار على متصفحات مختلفة والتأكد من عدم وجود أخطاء في وحدة التحكم
  - التحقق من أن كل صفحة تعرض 50+ كلمة مفتاحية
  - _Requirements: 3.3, 2.1, 2.2, 2.3, 2.4, 2.5, 2.6_

- [ ]\* 7. توثيق العملية وإنشاء دليل الاستكشاف

  - توثيق عملية الاستعادة والخطوات المتبعة
  - إنشاء دليل استخدام لوحة التحكم المحدثة
  - توثيق APIs المحدثة والجديدة
  - إنشاء دليل استكشاف الأخطاء للمشاكل المحتملة
  - _Requirements: جميع المتطلبات_

- [ ]\* 8. مراقبة الأداء وجمع الملاحظات
  - مراقبة أداء النظام بعد النشر
  - جمع ملاحظات المستخدمين حول النظام المستعاد
  - إجراء تحسينات إضافية حسب الحاجة
  - إنشاء تقرير نهائي بنتائج الاستعادة
  - _Requirements: جميع المتطلبات_
