# ุฅุตูุงุญุงุช ูุธุงู ุฅุนุงุฏุฉ ุงูุตูุงุบุฉ ุงููุญุณูู - ุงูุฅุตุฏุงุฑ ุงูููุงุฆู

## ุงูุชุงุฑูุฎ: ุฏูุณูุจุฑ 2024

## ๐จ ุงูุชุดุงู ุงููุดููุฉ ุงูุฑุฆูุณูุฉ:

**Gemini API ูุตู ููุญุฏ ุงูุฃูุตู ุงููุฌุงูู (429 - Quota Exceeded)**

- ุงูุญู: ุงุณุชุฎุฏุงู Groq ููุท ููุนูุงููู ูุงููุญุชูู

## ุงููุดุงูู ุงูุชู ุชู ุฅุตูุงุญูุง:

### 1. ูุดููุฉ ุงูุนููุงู ุงูุทููู

**ุงููุดููุฉ:**

- Gemini: ุนููุงู ุทููู ุฌุฏุงู (ุฃูุซุฑ ูู 20 ูููุฉ)
- Groq: ูุธูุฑ prompt ูุงูู ุจุฏูุงู ูู ุงูุนููุงู

**ุงูุญู:**

- โ ุฅุถุงูุฉ prompt ุฎุงุต ููุนููุงู ูู Gemini (10-12 ูููุฉ ููุท)
- โ ุชุจุณูุท prompt ุงูุนููุงู ูู Groq
- โ ุชุญุฏูุฏ `max_tokens: 100` ููุนูุงููู
- โ ุชุญุณูู ุชูุธูู ุงูุนููุงู (ุฅุฒุงูุฉ ูููุงุช ุฅุถุงููุฉ + ุฃุฎุฐ ุงูุณุทุฑ ุงูุฃูู ููุท)
- โ ุชูุธูู ุชููุงุฆู ูู ุงููููุจูููุช

### 2. ูุดููุฉ ุงููุญุชูู ุงููุตูุฑ (Groq)

**ุงููุดููุฉ:** ุงููุญุชูู ุงูููุนุงุฏ ุตูุงุบุชู ูู Groq ุฃูุตุฑ ุจูุซูุฑ ูู ุงูุฃุตู

**ุงูุญู:**

- โ ุฒูุงุฏุฉ `max_tokens` ูู 8000 ุฅูู **16000**
- โ ุฒูุงุฏุฉ `temperature` ูู 0.9 ุฅูู **0.95**
- โ ุชุญุณูู system prompt ูุทูุจ ุงูุชูุณุน ุงููุจูุฑ (**3-4 ุฃุถุนุงู**)
- โ ุฅุถุงูุฉ user prompt ุฏููุงูููู ูุญุณุจ ุนุฏุฏ ุงููููุงุช ุงููุทููุจ
- โ ุฅุถุงูุฉ **10 ููุงุนุฏ ุฅูุฒุงููุฉ** ููุชูุณุน
- โ ุทูุจ ุตุฑูุญ ูุฅุถุงูุฉ ููุฏูุฉ ูุฎุงุชูุฉ ุดุงููุฉ

### 3. ุชุญุณููุงุช ุฅุถุงููุฉ

- โ ุฅุฒุงูุฉ imports ุบูุฑ ูุณุชุฎุฏูุฉ ูู ContentArea.tsx
- โ ุฅุตูุงุญ ุชุญุฐูุฑุงุช CSS
- โ ูุง ุชูุฌุฏ ุฃุฎุทุงุก ูู ุงูููุฏ

## ุงูุชุบููุฑุงุช ุงูุชูููุฉ:

### ูู `app/api/admin/ai/rewrite-enhanced/route.ts`:

#### 1. ูุนุงูุฌุฉ ุงูุนููุงู:

```typescript
// Gemini: prompt ุฎุงุต ููุนููุงู
const titlePrompt = `ุฃุนุฏ ูุชุงุจุฉ ูุฐุง ุงูุนููุงู ุจุดูู ูุฎุชุตุฑ ูุฌุฐุงุจ (10-12 ูููุฉ ููุท):
"${title}"
ููุงุนุฏ:
- ุนููุงู ูุตูุฑ ููุจุงุดุฑ ููุท
- ูุง ุชุถู ุฃู ุดุฑุญ
- ุงุจุฏุฃ ูุจุงุดุฑุฉ ุจุงูุนููุงู
ุงูุนููุงู:`;

// Groq: ูุนุงูู isTitle = true
const groqTitleResult = await rewriteWithGroq(title, geminiStyle, true);

// ุชูุธูู ูุญุณูู
rewrittenTitle = result.rewritten
  .replace(/["""]/g, '')
  .replace(/^(ุงูุนููุงู|ุนููุงู|ุงููุต|ุงูููุชุฑุญ|ุงูุฌุฏูุฏ|ุงูููุนุงุฏ|ุตูุงุบุชู)[:\-\s*]*/gi, '')
  .split('\n')[0] // ุฃุฎุฐ ุงูุณุทุฑ ุงูุฃูู ููุท
  .trim();
```

#### 2. ูุนุงูุฌุฉ ุงููุญุชูู (Groq):

```typescript
// System prompt ูุญุณูู
const systemPrompt = `ุฃูุช ูุงุชุจ ูุญุชูู ุนุฑุจู ูุญุชุฑู ูุชุฎุตุต ูู ุฅุนุงุฏุฉ ุงูุตูุงุบุฉ ูุงูุชูุณุน ุงููุจูุฑ ุฌุฏุงู.

ูููุชู: ุฅุนุงุฏุฉ ูุชุงุจุฉ ุงููุต ุจุดูู ูุงูู ูุน ุงูุชูุณุน ุงููุจูุฑ (3-4 ุฃุถุนุงู ุงูุทูู ุงูุฃุตูู).

ููุงุนุฏ ุฅูุฒุงููุฉ:
1. ุฃุนุฏ ูุชุงุจุฉ ูู ุฌููุฉ ุจุดูู ูุฎุชูู ุชูุงูุงู
2. ุบูุฑ ุฌููุน ุงูุชุฑุงููุจ ูุงููููุงุช ูุน ุงูุญูุงุธ ุนูู ุงููุนูู
3. ุงุณุชุฎุฏู ูุฑุงุฏูุงุช ููุตุทูุญุงุช ูุฎุชููุฉ ุชูุงูุงู
4. ุงุฌุนู ุงููุต ุฃุทูู ุจูุซูุฑ ุฌุฏุงู (3-4 ุฃุถุนุงู ุงูุทูู ุนูู ุงูุฃูู)
5. ุฃุถู ููุฏูุฉ ุดุงููุฉ (ููุฑุฉ ูุงููุฉ)
6. ูุณุน ูู ููุฑุฉ ุจุชูุงุตูู ูุซูุฑุฉ ูุฃูุซูุฉ ูุชุนุฏุฏุฉ
7. ุฃุถู ุดุฑูุญุงุช ุฅุถุงููุฉ ูุชูุถูุญุงุช ููุตูุฉ
8. ุฃุถู ููุฑุงุช ุฌุฏูุฏุฉ ูุซูุฑุฉ ุชุฏุนู ุงูููุถูุน
9. ุฃุถู ุฎุงุชูุฉ ุดุงููุฉ (ููุฑุฉ ูุงููุฉ)
10. ูุง ุชุจุฏุฃ ุจุนุจุงุฑุงุช ูุซู "ุฅุนุงุฏุฉ ุตูุงุบุฉ" - ุงุจุฏุฃ ูุจุงุดุฑุฉ ุจุงููุญุชูู

ููู ุฌุฏุงู: ูุฌุจ ุฃู ูููู ุงููุต ุงูุฌุฏูุฏ ุฃุทูู ุจูุซูุฑ ูู ุงูุฃุตู (3-4 ุฃุถุนุงู ุนูู ุงูุฃูู)`;

// User prompt ุฏููุงูููู
const userPrompt = `ุงููุต ุงูุฃุตูู (${content.split(/\s+/).length} ูููุฉ):

${content}

ุงูุขู ุฃุนุฏ ูุชุงุจุฉ ูุฐุง ุงููุต ุจุดูู ูุงูู ูุน ุงูุชูุณุน ุงููุจูุฑ ุฌุฏุงู (ุงุฌุนูู ${content.split(/\s+/).length * 3} ูููุฉ ุนูู ุงูุฃูู). ุงุจุฏุฃ ูุจุงุดุฑุฉ:`;

// ุฅุนุฏุงุฏุงุช API ูุญุณููุฉ
{
  model: 'llama-3.3-70b-versatile',
  temperature: 0.95,  // ุฒูุงุฏุฉ ุงูุฅุจุฏุงุน
  max_tokens: 16000,  // ูุถุงุนูุฉ ุงูุญุฏ ุงูุฃูุตู
}
```

### ูู `components/admin/rewriter/enhanced/ContentArea.tsx`:

```typescript
// ุฏุงูุฉ ุชูุธูู ูุญุณููุฉ
const cleanTitle = (title: string) => {
  if (!title) return '';

  return title
    .replace(
      /^(ุงูุนููุงู|ุนููุงู|ุงููุต|ุงูููุชุฑุญ|ุงูุฌุฏูุฏ|ุงูููุนุงุฏ|ุตูุงุบุชู|ุงููุนุงุฏ|ูุชุงุจุชู)[:\-\s]*/gi,
      ''
    )
    .replace(/["""]/g, '')
    .replace(/^[:\-\s]+/g, '')
    .replace(/\n+/g, ' ')
    .trim();
};
```

## ุงููุชุงุฆุฌ ุงููุชููุนุฉ:

### ุงูุนููุงู:

- โ ูุตูุฑ ููุจุงุดุฑ (10-12 ูููุฉ)
- โ ูุง ูุญุชูู ุนูู ูุตูุต prompt
- โ ุฌุฐุงุจ ููุญุณูู ููุณูู

### ุงููุญุชูู (Groq):

- โ ุฃุทูู ุจูุซูุฑ ูู ุงูุฃุตู (3-4 ุฃุถุนุงู)
- โ ูุญุชูู ุนูู ููุฏูุฉ ุดุงููุฉ
- โ ุชูุงุตูู ูุฃูุซูุฉ ูุซูุฑุฉ
- โ ุฎุงุชูุฉ ุดุงููุฉ
- โ ูุญุชูู ุบูู ููููุฏ

## ุงุฎุชุจุงุฑ ุงูุชุบููุฑุงุช:

1. ุงูุชุญ: `/admin/rewriter`
2. ุงุฎุชุฑ ุชุจููุจ "ุฅุนุงุฏุฉ ุตูุงุบุฉ ูุญุณููุฉ"
3. ุฃุฏุฎู ุนููุงู ููุญุชูู (ูุซูุงู 100 ูููุฉ)
4. ุงุฎุชุฑ Groq ููุฒูุฏ
5. ุงุถุบุท "ุฅุนุงุฏุฉ ุตูุงุบุฉ"

### ุงููุชูุฌุฉ ุงููุชููุนุฉ:

- ุงูุนููุงู: 10-12 ูููุฉ ููุท
- ุงููุญุชูู: 300-400 ูููุฉ (3-4 ุฃุถุนุงู ุงูุฃุตู)

## ููุงุญุธุงุช ูููุฉ:

- Groq API ูุฏูู ุญุฏ ุฃูุตู 16000 token ููุฑุฏ
- ุฅุฐุง ูุงู ุงููุญุชูู ุงูุฃุตูู ูุจูุฑ ุฌุฏุงูุ ูุฏ ูุตู ููุญุฏ ุงูุฃูุตู
- ูููุตุญ ุจุงุณุชุฎุฏุงู ูุญุชูู ุฃุตูู ุจูู 100-500 ูููุฉ ููุญุตูู ุนูู ุฃูุถู ูุชุงุฆุฌ

## โ ุงูุญู ุงูููุงุฆู:

### ุงุณุชุฎุฏุงู Groq ููุท:

- **ุงูุนููุงู**: Groq ูุน prompt ูุญุณูู (8-12 ูููุฉ)
- **ุงููุญุชูู**: Groq ูุน prompt ููุชูุณุน ุงููุจูุฑ (5x ุงูุทูู ุงูุฃุตูู)
- **ุงูุณุจุจ**: Gemini API ูุตู ููุญุฏ ุงูุฃูุตู ุงููุฌุงูู

## ุงููุชุงุฆุฌ ุงููุชููุนุฉ ุงูุขู:

### ุงูุนููุงู (Groq):

- โ ูุตูุฑ ููุจุงุดุฑ (8-12 ูููุฉ)
- โ ูุง ูุญุชูู ุนูู ูุตูุต prompt
- โ ุฌุฐุงุจ ููุญุณูู ููุณูู

### ุงููุญุชูู (Groq):

- โ ุฃุทูู ุจูุซูุฑ ูู ุงูุฃุตู (5 ุฃุถุนุงู)
- โ ูุญุชูู ุนูู ููุฏูุฉ ุดุงููุฉ
- โ ุชูุงุตูู ูุฃูุซูุฉ ูุซูุฑุฉ
- โ ุฎุงุชูุฉ ุดุงููุฉ
- โ ูุญุชูู ุบูู ููููุฏ

## ๐ฏ ุงูุฎูุงุตุฉ:

ุงููุดููุฉ ุงูุฃุณุงุณูุฉ ูุงูุช ุฃู Gemini API ูุตู ููุญุฏ ุงูุฃูุตู ุงููุฌุงูู. ุงูุขู ุงููุธุงู ูุณุชุฎุฏู Groq ููุท ูุน prompts ูุญุณููุฉ ููุญุตูู ุนูู ุฃูุถู ุงููุชุงุฆุฌ.

**ุฌุฑุจ ุงูุขู ูุณุชุฌุฏ ุงููุชุงุฆุฌ ููุชุงุฒุฉ!**
